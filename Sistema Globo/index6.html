<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Afiliadas Gestão</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .submenu { display: none; margin-top: 4px; background-color: #e2e8f0; }
        .menu-item.active {
            border-bottom: 2px solid #4a5568;
            background-color: #e2e8f0;
        }
        .menu-item:hover, .submenu a:hover {
            background-color: #d1d5db;
        }
        .menu-item.active i {
            font-size: 8px;
            content: "●";
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <div class="container mx-auto px-4 py-6">
        <header class="flex justify-between items-center mb-6">
            <div class="flex items-center gap-4">
                <div class="text-2xl font-bold text-green-600">AFILIADAS</div>
                <div class="w-10 h-10">
                    <img src="Logo cor 71b44d.png" alt="logo globo">
                </div>
                <div class="text-2xl font-bold text-green-600">GESTÃO</div>
            </div>
            <div class="text-sm text-green-500 flex items-center gap-2">
                <span>Olá Hugo Leonardo</span>
                <i class="fas fa-chevron-down"></i>
            </div>
        </header>

        <nav id="menu" class="relative bg-gray-200 py-3 px-6 rounded-md mb-4 flex gap-6"></nav>
        <div id="submenu-container" class="flex gap-4 mt-2"></div>
    </div>

    <script>

        const menuData = [	
            {
                "titulo": "AFILIADAS",
                "subMenu": [ 
                    {
                        "titulo": "INCLUIR",
                        "link": "http://localhost/..." 
                    },
                    {
                        "titulo": "CONSULTAR",
                        "link": "http://localhost/..." 
                    },
                    {
                        "titulo": "AGRUPAMENTO",
                        "link": "http://localhost/..."
                    }
                ]
            },	
            {
                "titulo": "TV ABERTA",
                "subMenu": [ 
                    {
                        "titulo": "INCLUIR CONVENÇÃO",
                        "link": "http://localhost/..." 
                    },
                    {
                        "titulo": "CONSULTAR CONVENÇÃO",
                        "link": "http://localhost/..." 
                    },
                    {
                        "titulo": "RECEITAS",
                        "link": "http://localhost/..."
                    },
                    {
                        "titulo": "LANÇAMENTOS",
                        "link": "http://localhost/..."
                    },
                    {
                        "titulo": "PRESTAÇÃO DE CONTAS",
                        "link": "http://localhost/..."
                    },
                    {
                        "titulo": "RELATÓRIOS",
                        "link": "http://localhost/..."
                    }
                ]					
            },
            {
                "titulo": "INTERNET",
                "subMenu": [ 
                    {
                        "titulo": "INCLUIR CONVENÇÃO",
                        "link": "http://localhost/..." 
                    },
                    {
                        "titulo": "CONSULTAR CONVENÇÃO",
                        "link": "http://localhost/..." 
                    },
                    {
                        "titulo": "RECEITAS",
                        "link": "http://localhost/..."
                    },
                    {
                        "titulo": "LANÇAMENTOS",
                        "link": "http://localhost/..."
                    },
                    {
                        "titulo": "PRESTAÇÃO DE CONTAS",
                        "link": "http://localhost/..."
                    },
                    {
                        "titulo": "RELATÓRIOS",
                        "link": "http://localhost/..."
                    }
                ]					
            },
            {
                "titulo": "FATURAMENTO",
                "subMenu": [ 
                    {
                        "titulo": "INCLUIR CONVENÇÃO",
                        "link": "http://localhost/..." 
                    }
                ]					
            },
            {
                "titulo": "NOVA CATEGORIA",
                "subMenu": [ 
                    {
                        "titulo": "INCLUIR",
                        "link": "http://localhost/..." 
                    },
                    {
                        "titulo": "CONSULTAR",
                        "link": "http://localhost/..." 
                    }			
                ]					
            }
        ];

        function generateMenu() {
            const menuContainer = document.getElementById("menu");
        //    Object.keys(menuData).forEach(menuItem => {

        menuData.forEach(menuItem => {
                const div = document.createElement("div");
                div.className = "menu-item relative p-2 rounded-md";
                div.innerHTML = `<a href="#" class="font-bold text-gray-800 flex items-center gap-1">${menuItem.titulo} <i class="fas fa-chevron-down text-xs"></i></a>`;
                div.onclick = (event) => toggleSubmenu(event, menuItem.subMenu);
                menuContainer.appendChild(div);
            });
        }

        function toggleSubmenu(event, menuItem) {
            event.preventDefault();
            const submenuContainer = document.getElementById("submenu-container");
            submenuContainer.innerHTML = "";

            document.querySelectorAll(".menu-item").forEach(item => {
                item.classList.remove("active");
                item.querySelector("i").classList.replace("fa-circle", "fa-chevron-down");
            });
            
            event.currentTarget.classList.add("active");
            event.currentTarget.querySelector("i").classList.replace("fa-chevron-down", "fa-circle");

            if (menuItem) {
                const submenuDiv = document.createElement("div");
                submenuDiv.className = "submenu p-4 rounded-md shadow-md flex gap-4";
                menuItem.forEach(subItem => {
                    const link = document.createElement("a");
                    link.href = subItem.link;
                    link.className = "px-4 py-2 text-gray-700 hover:bg-gray-300 rounded uppercase";
                    link.textContent = subItem.titulo;
                    submenuDiv.appendChild(link);
                });
                submenuContainer.appendChild(submenuDiv);
            }
        }

        document.addEventListener("DOMContentLoaded", generateMenu);
    </script>
</body>
</html>
